<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Questionnaire</title>
    <!-- Stylesheets -->
    <link rel="stylesheet" href="../static/css/index_style.css" />
    <link rel="stylesheet" href="../static/css/bootstrap.min.css" />
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"
    />

    <!-- Scripts -->
    <script src="../static/js/bootstrap.bundle.min.js"></script>
    <script src="../static/js/jquery.min.js"></script>

    <style>
      * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
        font-family: Arial, sans-serif;
      }

      body {
        display: flex;
        justify-content: center;
        align-items: center;
        min-height: 100vh;
        background-color: #f8f1f0;
        color: #000000;
      }

      .intro_container {
        position: relative;
        width: 58%;
        font-weight: 600;
        text-align: center;
        padding: 40px;
        background-color: #fff;
        border: 2px solid #e69582;
        border-radius: 8px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        z-index: 0; /* Ensures content stays on top */
      }

      .intro_container::before {
          content: "";
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background-image: url("../static/images/Designer.jpeg");
          background-position: center;
          background-size: cover;
          background-repeat: no-repeat;
          opacity: 0.4; 
          border-radius: 8px;
          z-index: -1;
      }

      .logo img {
        width: 80px;
        margin-bottom: 20px;
      }

      h2 {
        font-size: 2.5rem;
        color: #c84627;
        margin-bottom: 20px;
      }

      p {
        font-size: 1.2rem;
        line-height: 1.5;
        color: #333;
        margin-bottom: 20px;
      }

      #user-type-selection {
        text-align: center;
        margin: 20px;
      }

      #user-type-selection h2 {
        font-size: 1.5em;
        color: #333;
      }

      #user-type-selection p {
        font-size: 1em;
        color: #666;
      }

      .user-type-buttons {
        margin-top: 15px;
      }

      .user-type-buttons button {
        padding: 10px 20px;
        margin: 10px;
        font-size: 1em;
        cursor: pointer;
        border: none;
        background-color: #d56247;
        color: white;
        border-radius: 5px;
        transition: background-color 0.3s ease;
      }

      .user-type-buttons button:hover {
        background-color: #c04123;
      }

      /* Image Styles */
      .bot-image {
        z-index: -1;
        position: absolute;
        width: 20%;
        top: 40%;
        transform: translateY(-50%);
        right: 10rem; /* Adjust position of the image */
      }
    </style>
  </head>
  <body>
    <nav class="navbar navbar-expand-lg navbar-light header">
      <div class="container">
        <a class="navbar_brand" href="{{ url_for('about') }}">
          <img
            class="logo"
            src="{{ url_for('static', filename='images/logo.jpg') }}"
            alt="logo"
          />
          Sahasya
        </a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarSupportedContent"
          aria-controls="navbarSupportedContent"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="lists collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav ms-auto">
            <li class="nav-item">
              <a class="nav-link" href="{{ url_for('home') }}">CHATBOT</a>
            </li>
            <li class="nav-item">
              <a class="nav-link active" href="{{ url_for('start') }}"
                >ANALYSIS</a
              >
            </li>
            <!-- Profile Section in Navbar -->
            <li class="nav-item">
              <a class="nav-link profile_details" href="#" id="profileLink"
                >PROFILE</a
              >
              <div id="profileDropdown" class="dropdown-content">
                <div class="profile-picture">
                  <img
                    id="profile_details_pic"
                    src="{{ url_for('static', filename='images/profile.webp') }}"
                    alt="user profile"
                  />
                </div>
                <div class="profile-detail">
                  <strong>Name:</strong> {{ session.get('name', 'John Doe') }}
                </div>
                <div class="profile-detail">
                  <strong>Age:</strong> {{ session.get('age', '30') }}
                </div>
                <div class="profile-detail">
                  <strong>Gender:</strong> {{ session.get('gender', 'Male') }}
                </div>
                <div class="profile-detail">
                  <strong>Email:</strong> {{ session.get('user',
                  'john.doe@example.com') }}
                </div>
              </div>
            </li>
            <li class="nav-item">
              <a
                class="nav-link logout-icon"
                href="{{ url_for('login') }}"
                id="logoutLink"
                title="Logout"
              >
                <i class="fa fa-sign-out" aria-hidden="true"></i>
              </a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <!-- Animated Background Section -->
    <div class="area">
      <ul class="circles">
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
      </ul>
    </div>

    <div class="intro_container">
      <h2>Before You Begin the Quiz</h2>
      <br />
      <p>
        To personalize your experience, please let us know if youâ€™re a student
        or a working professional.
      </p>
      <br />
      <p>Select an option below to continue:</p>

      <div class="user-type-buttons">
        <form action="{{ url_for('category') }}" method="post">
          <button type="submit" name="category" value="student" class="btn">
            I am a Student
          </button>
          <button type="submit" name="category" value="working" class="btn">
            I am a Working Professional
          </button>
        </form>
      </div>
    </div>
    <img
      class="bot-image"
      src="../static/images/bot_peeping.png"
      alt="Bot Peeping"
    />

    <script>
      function selectUserType(userType) {
        if (userType === "student") {
          window.location.href = "s_analysis.html";
        } else if (userType === "professional") {
          window.location.href = "wp_analysis.html";
        }
      }

      // Profile Functionality

      const profileLink = document.getElementById("profileLink");
      const profileDropdown = document.getElementById("profileDropdown");

      profileLink.addEventListener("click", function (event) {
        event.preventDefault(); // Prevent the default link behavior
        profileDropdown.classList.toggle("show"); // Toggle the visibility class
      });

      // Hide dropdown when clicking anywhere else on the screen
      document.addEventListener("click", function (event) {
        if (
          !profileLink.contains(event.target) &&
          !profileDropdown.contains(event.target)
        ) {
          profileDropdown.classList.remove("show"); // Remove visibility class
        }
      });
    </script>
  </body>
</html>
